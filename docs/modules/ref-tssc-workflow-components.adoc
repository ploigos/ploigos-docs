[id="{ProjectNameID}-workflow-components-{context}"]
= {ProjectShortName} Workflow Components

The {ProjectShortName} Workflow Components are the high level groupings of more complex sub workflows. The following table defines the purpose of these high-level components without emphasis on the more detailed steps each component encapsulates, or the technology of how those get realized. 

[id="{ProjectNameID}-workflow-components-high-level-{context}"]
== Predefined Processes
Each predefined process represents an encapsulation of steps that are typically necessary in a complete end-to-end pipeline  

[cols="a,a,a",options="header"]
|===
| Predefined Process
| Purpose
| <<{ProjectNameID}-workflow-components-detailed-level-{context}, Components / Steps>>

| Prioritize Ideas
| Move idea from person's head into a work management tool to track item through to completion. 
| Steps vary based on team's backlog prioritization and work planning process 

| Initialize New Idea
| Lay foundation for isolated development environment for developer to begin coding 
| 
* <<detailed-component-fork-repository>>
* <<detailed-component-create-idea-branch>>
* <<detailed-component-create-wip-merge-request>>

| Detect Change
| Allows pipeline to detect and respond to a defined set of changes in source code repository   
|
* <<detailed-component-detect-changed-merge-request>>

| Continuous Integration
| Build artifacts are created and tested automatically on a continual basis   
|
* Generate Metadata
* Tag Source Code with Metadata
* Run Unit Tests
* Package Application
* Static Code Analysis
* Push Packaged Application to Repository with Metadata
* Create Container Image
* Push Container Image to Repository with Metadata
* Run Container Image Unit Tests
* Run Static Compliance Container Image Scan
* Run Static Vulnerability Container Image Scan
* Push Trusted Container Image to Repository with Metadata

| Continuous Merge Request Deployment
| Deployment of build artifacts into a temporary development environment that will occur when a merge request is created (from a feature branch to the primary release branch), and for any subsequent changes to the merging feature branch   
|
* Deploy or Update MR#-DEV Environment
* Validate MR#-DEV Environment Configuration
* Run User Acceptance Tests (UAT)
* Run Runtime Vulnerability Scans
* Run Performance Tests (Limited)
* Mark Merge Request Ready for Peer Review and Merging

| Continuous Live Idea Development
| Provide developer with ability to make code changes with instant (realtime) deployment of those changes into live development runtime environment. An ability to bypass pipeline to reduce friction during development on feature branches.    
|
* Remove "WIP" from Merge Request
* Connect IDE to MR#-DEV Environment
* Live Development and Testing in MR#-DEV Environment
* Commit Change to Idea Branch on Fork of Repository

| Peer Review
| To collaborate with others in the process of reviewing code in order to make sure it works, and in order to improve it where possible
|
* Mark Merge Request as Work In Progress (WIP)
* Peer Review
* Merge to Release Branch
* Delete MR#-DEV Deployment Environment

| Continuous Deployment
| Deployment of build artifacts into a shared test or release environment that will occur when a change is made to the primary release branch.
|
* Deploy or Update TEST Environment
* Validate TEST Environment Configuration
* Run User Acceptance Tests (UAT)
* Run Runtime Vulnerability Scans
* Run Performance Tests (Full)
* Deploy or Update PROD Environment
* Validate PROD Environment Configuration
* Run Canary Testing

| Finish
| Post deployment activity that serves to validate the tasks performed and/or improve the process 
|
* Collect, Bundle, & Publish Test Reports and Metadata
* Collect Lessons Learned
* Celebrate

|===

[id="{ProjectNameID}-workflow-components-detailed-level-{context}"]
== Steps
The Predefined Processes are further broken down into discrete units of work.   

[cols="20a,50a,30a",options="header"]
|===
| Step
| Purpose
| <<{ProjectNameID}-workflow-tool-purposes-{context}, Implementing Tool Category>>

| [[detailed-component-fork-repository, Fork Repository]]
Fork Repository
| #TODO - purpose#
|
* Source Control Tool

| [[detailed-component-create-idea-branch, Create Idea Branch on Fork of Repository]]
Create Idea Branch on Fork of Repository
| #TODO - purpose#
|
* Source Control Tool

| [[detailed-component-create-wip-merge-request, Create WIP Merge Request to Release Branch on prime repository]]
Create WIP Merge Request to Release Branch on prime repository
| To bring an idea from development into a release (and ultimately production) a developer will create a merge request from feature branch to the primary release branch. The merge request should initially be created as WIP, which indicates this is a "Work in progress" and not yet ready to be merged. The act of creating the merge request from a feature branch to the release branch should trigger the pipeline to be run on the new feature branch.
|
* Source Control Tool

| [[detailed-component-detect-changed-merge-request, Detect new, changed, or merged,  Merge Request to Release Branch]]
Detect new, changed, or merged,  Merge Request to Release Branch
| The capability of the CI tool to detect actions at the source control tool. For actions "new merge request" or "changed merge request", the pipeline will run and the subject will be feature branch being merged. For "merge of feature branch to release branch" the pipeline will run and the subject will be the primary release branch.
|
* CI Tool
* Source Control Tool

| Generate Metadata
| #TODO - purpose#
|
* CI Tool

| Tag Source Code with Metadata
| #TODO - purpose#
|
* Source Control Tool

| Run Unit Tests
| #TODO - purpose#
|
* Application Language Unit Test Tool

| Package Application
| #TODO - purpose#
|
* Application Language Packaging Tool

| Static Code Analysis
| #TODO - purpose#
|
* Static Code Analysis Tool

| Push Packaged Application to Repository with Metadata
| #TODO - purpose#
|
* Binary Artifact Upload Tool
* Artifact Repository

| Create Container Image
| #TODO - purpose#
|
* Container Image Build Tool

| Run Container Image Unit Tests
| #TODO - purpose#
|
* Container Image Unit Test Tool

| Run Static Compliance Container Image Scan
| #TODO - purpose#
|
* Container Image Scanning Tool

| Run Static Vulnerability Container Image Scan
| #TODO - purpose#
|
* Container Image Scanning Tool

| Push Trusted Container Image to Repository with Metadata
| #TODO - purpose#
|
* Container Image Upload Tool
* Image Registry

| Deploy or Update MR#-DEV Environment
| #TODO - purpose#
|
* Continuous Deployment Tool

| Validate MR#-DEV Environment Configuration
| #TODO - purpose#
|
* Validate Environment Configuration Tool

| Run User Acceptance Tests (UAT)
| #TODO - purpose#
|
* UAT Tool

| Run Runtime Vulnerability Scans
| #TODO - purpose#
|
* Runtime Vulnerability Scanning Tool

| Run Performance Tests (Limited)
| #TODO - purpose#
|
* Performance Testing Tool

| Mark Merge Request Ready for Peer Review and Merging
| #TODO - purpose#
|
* Source Control Tool

| Remove "WIP" from Merge Request
| #TODO - purpose#
|
* Source Control Tool

| Connect IDE to MR#-DEV Environment
| #TODO - purpose#
|
* IDE & Container Platform

| Live Development and Testing in MR#-DEV Environment
| #TODO - purpose#
|
* IDE & Container Platform

| Commit Change to Idea Branch on Fork of Repository
| #TODO - purpose#
|
* Source Control Tool

| Peer Review
| #TODO - purpose#
|
* Peer Review Tool

| Merge to Release Branch
| #TODO - purpose#
|
* Source Control Tool

| Delete MR#-DEV Deployment Environment
| #TODO - purpose#
|
* Kubernetes Resources Creation Tool

| Mark Merge Request as Work In Progress (WIP)
| #TODO - purpose#
|
* Source Control Tool

| Deploy or Update TEST Environment
| #TODO - purpose#
|
* Continuous Deployment Tool

| Validate Test Environment Configuration
| #TODO - purpose#
|
* Validate Environment Configuration Tool

| Run Performance Tests (Full)
| #TODO - purpose#
|
* Performance Testing Tool

| Create PROD Environment
| #TODO - purpose#
|
* Kubernetes Resources Creation Tool

| Deploy or Update PROD Environment
| #TODO - purpose#
|
* Continuous Deployment Tool

| Validate Prod Environment Configuration
| #TODO - purpose#
|
* Validate Environment Configuration Tool

| Run Canary Testing
| #TODO - purpose#
|
* Canary Testing Tool

| Collect, Bundle, & Publish Test Reports and Metadata
| #TODO - purpose#
|
* CI Tool

| Collect Lessons Learned
| #TODO - purpose#
|
* Discussion

| Celebrate
| #TODO - purpose#
|
* Discussion

|===
